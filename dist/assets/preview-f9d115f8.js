import{r as o,R as Y,Y as ie,al as ne,c as ae,j as t,a as r,d as F,Z as re}from"./index-f43434ee.js";/* empty css                  */var oe=globalThis&&globalThis.__rest||function(e,a){var u={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(u[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,n=Object.getOwnPropertySymbols(e);d<n.length;d++)a.indexOf(n[d])<0&&Object.prototype.propertyIsEnumerable.call(e,n[d])&&(u[n[d]]=e[n[d]]);return u};function se(e){const a=parseFloat(e);return!isNaN(a)&&isFinite(a)}function q(e){return typeof e=="string"&&e[e.length-1]==="%"&&se(e.substring(0,e.length-1))}function M(e,a){a===0&&(e!=null&&e.style)&&(e.style.display="none")}function ce(e,a){a===0&&(e!=null&&e.style)&&(e.style.display="")}const le={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"};function G(e,a){return[e.static,a===0&&e.staticHeightZero,a>0&&e.staticHeightSpecific,a==="auto"&&e.staticHeightAuto].filter(u=>u).join(" ")}const U=e=>{var{animateOpacity:a=!1,animationStateClasses:u={},applyInlineTransitions:n=!0,children:d,className:x="",contentClassName:y,delay:S=0,duration:Z=500,easing:h="ease",height:i,onHeightAnimationEnd:c,onHeightAnimationStart:m,style:b}=e,C=oe(e,["animateOpacity","animationStateClasses","applyInlineTransitions","children","className","contentClassName","delay","duration","easing","height","onHeightAnimationEnd","onHeightAnimationStart","style"]);const g=o.useRef(i),p=o.useRef(null),k=o.useRef(),H=o.useRef(),f=o.useRef(Object.assign(Object.assign({},le),u)),J=typeof window<"u",_=o.useRef(J&&window.matchMedia?window.matchMedia("(prefers-reduced-motion)").matches:!1),A=_.current?0:S,j=_.current?0:Z;let N=i,O="visible";typeof N=="number"?(N=i<0?0:i,O="hidden"):q(N)&&(N=i==="0%"?0:i,O="hidden");const[E,$]=o.useState(N),[K,D]=o.useState(O),[Q,T]=o.useState(!1),[V,R]=o.useState(G(f.current,i));o.useEffect(()=>{M(p.current,E)},[]),o.useEffect(()=>{if(i!==g.current&&p.current){ce(p.current,g.current),p.current.style.overflow="hidden";const L=p.current.offsetHeight;p.current.style.overflow="";const W=j+A;let l,s,P="hidden",z;const I=g.current==="auto";typeof i=="number"?(l=i<0?0:i,s=l):q(i)?(l=i==="0%"?0:i,s=l):(l=L,s="auto",P=void 0),I&&(s=l,l=L);const ee=[f.current.animating,(g.current==="auto"||i<g.current)&&f.current.animatingUp,(i==="auto"||i>g.current)&&f.current.animatingDown,s===0&&f.current.animatingToHeightZero,s==="auto"&&f.current.animatingToHeightAuto,s>0&&f.current.animatingToHeightSpecific].filter(te=>te).join(" "),B=G(f.current,s);$(l),D("hidden"),T(!I),R(ee),clearTimeout(H.current),clearTimeout(k.current),I?(z=!0,H.current=setTimeout(()=>{$(s),D(P),T(z),m==null||m(s)},50),k.current=setTimeout(()=>{T(!1),R(B),M(p.current,s),c==null||c(s)},W)):(m==null||m(l),H.current=setTimeout(()=>{$(s),D(P),T(!1),R(B),i!=="auto"&&M(p.current,l),c==null||c(l)},W))}return g.current=i,()=>{clearTimeout(H.current),clearTimeout(k.current)}},[i]);const v=Object.assign(Object.assign({},b),{height:E,overflow:K||(b==null?void 0:b.overflow)});Q&&n&&(v.transition=`height ${j}ms ${h} ${A}ms`,b!=null&&b.transition&&(v.transition=`${b.transition}, ${v.transition}`),v.WebkitTransition=v.transition);const w={};a&&(w.transition=`opacity ${j}ms ${h} ${A}ms`,w.WebkitTransition=w.transition,E===0&&(w.opacity=0));const X=typeof C["aria-hidden"]<"u"?C["aria-hidden"]:i===0;return Y.createElement("div",Object.assign({},C,{"aria-hidden":X,className:`${V} ${x}`,style:v}),Y.createElement("div",{className:y,style:w,ref:p},d))},de={createApi:`${ie()}/subscriber/send-campaign`},pe=()=>{const e=ne();ae();const{htmlCode:a,cssCode:u}=e.state||{htmlCode:"",cssCode:""},[n,d]=o.useState("1"),x=o.useRef({emailform:null}),y=h=>{d(i=>i===h?"":h)},S=()=>`
            <html>
                <head>
                    <style>${u}</style>
                </head>
                <body>${a}</body>
            </html>
        `;return t("div",{children:t("div",{className:"min-h-screen p-2 sm:p-4",children:r("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 min-h-[calc(100vh-200px)]",children:[r("div",{className:"md:col-span-8 panel p-3 sm:p-4 border rounded bg-white shadow h-[calc(100vh-140px)] md:h-[calc(100vh-140px)] overflow-auto",children:[t("h2",{className:"text-lg font-bold mb-3",children:"HTML Code"}),t("div",{className:"mb-5",children:r("form",{className:"emailform",ref:h=>x.current.emailform=h,onSubmit:async h=>{h.preventDefault();const i=x.current.emailform;if(!i)return;const c=new FormData(i);c.append("htmlContent",S()),c.append("sendto[]","idreesoffice9012@gmail.com"),c.append("sendto[]","farhanalidxb1@gmail.com");try{const m=await re.post(de.createApi,c);console.log(m),alert("Emails are being sent in the background!")}catch(m){console.error(m),alert("Error sending email campaign.")}},children:[r("div",{className:"space-y-2 font-semibold",children:[r("div",{className:"border border-[#d3d3d3] rounded dark:border-[#1b2e4b]",children:[r("button",{type:"button",className:`p-4 w-full flex items-center text-white-dark dark:bg-[#1b2e4b] ${n==="1"?"!text-primary":""}`,onClick:()=>y("1"),children:["To, Who are you sending this email to?",t("div",{className:`ltr:ml-auto rtl:mr-auto ${n==="1"?"rotate-180":""}`,children:t(F,{})})]}),t("div",{children:t(U,{duration:300,height:n==="1"?"auto":0,children:t("div",{className:"space-y-2 p-4 text-white-dark text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:t("div",{className:"mb-3",children:r("label",{className:"inline-flex",children:[t("input",{type:"checkbox",className:"form-checkbox text-secondary rounded-full peer"}),t("span",{className:"peer-checked:text-secondary",children:"Send Email to All Subscribers"})]})})})})})]}),r("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded",children:[r("button",{type:"button",className:`p-4 w-full flex items-center text-white-dark dark:bg-[#1b2e4b] ${n==="2"?"!text-primary":""}`,onClick:()=>y("2"),children:["From: Who is sending this email?",t("div",{className:`ltr:ml-auto rtl:mr-auto ${n==="2"?"rotate-180":""}`,children:t(F,{})})]}),t("div",{children:t(U,{duration:300,height:n==="2"?"auto":0,children:r("div",{className:"space-y-2 p-4 text-white-dark text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:[r("div",{className:"mb-3",children:[t("label",{htmlFor:"name",children:"Name "}),t("input",{id:"name",type:"text",name:"name",placeholder:"Evernest Real Estate",className:"form-input",autoComplete:"off"})]}),r("div",{className:"mb-3",children:[t("label",{htmlFor:"email",children:"Email "}),t("input",{id:"email",type:"text",name:"email",placeholder:"evernestre@gmail.com",className:"form-input",autoComplete:"off"})]})]})})})]}),r("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded",children:[r("button",{type:"button",className:`p-4 w-full flex items-center text-white-dark dark:bg-[#1b2e4b] ${n==="3"?"!text-primary":""}`,onClick:()=>y("3"),children:["Subject & Time",t("div",{className:`ltr:ml-auto rtl:mr-auto ${n==="3"?"rotate-180":""}`,children:t(F,{})})]}),t("div",{children:t(U,{duration:300,height:n==="3"?"auto":0,children:r("div",{className:"p-4 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:[t("div",{className:"space-y-2 p-4 text-white-dark text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:r("div",{className:"mb-3",children:[t("label",{htmlFor:"subject",children:"Subject "}),t("input",{id:"subject",type:"text",name:"subject",placeholder:"Subject",className:"form-input",autoComplete:"off"})]})}),t("hr",{})]})})})]})]}),t("div",{className:"mb-3",children:t("button",{type:"submit",className:"mt-3 btn btn-secondary text-white rounded",children:"Send"})})]})})]}),r("div",{className:"md:col-span-4 panel p-3 sm:p-4 border rounded bg-white shadow h-[50vh] md:h-[calc(100vh-140px)]",children:[t("h2",{className:"text-lg font-bold mb-3",children:"Live Preview"}),t("div",{className:"h-[calc(100%-2rem)]",children:t("iframe",{title:"preview",className:"w-full h-full border rounded",srcDoc:S(),scrolling:"no",seamless:!0,style:{width:"100%",height:"100%",border:"none"}})})]})]})})})};export{pe as default};
