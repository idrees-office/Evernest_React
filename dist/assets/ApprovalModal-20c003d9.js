import{r as n,b as e,j as l}from"./index-b04034ff.js";import{F as S}from"./index-6ad2a632.js";/* empty css                  */import{S as T}from"./react-select.esm-d54bd168.js";import{Y as h,y as b}from"./transition-ec060158.js";const R=({request:a={},isOpen:i,onClose:v,onSubmit:F,modalType:k="leave",title:j="Process Request",descriptionField:x=k==="leave"?"reason":"description",requireDateRange:s=!0,actionOptions:g=[{value:"approve",label:"Approve"},{value:"reject",label:"Reject"}]})=>{const[p,c]=n.useState(null),[u,m]=n.useState(null),[d,y]=n.useState(null),[f,_]=n.useState(""),[o,N]=n.useState({});n.useEffect(()=>{i&&(m(a!=null&&a.start_date?new Date(a.start_date):null),c(a!=null&&a.end_date?new Date(a.end_date):null),y(null),_(""),N({}))},[i,a]);const A=t=>{const r=(t==null?void 0:t.value)||null;y(r),s&&(m(a!=null&&a.start_date?new Date(a.start_date):null),c(a!=null&&a.end_date?new Date(a.end_date):null)),r==="reject"&&s&&(m(null),c(null))},C=t=>{t&&t.preventDefault();const r={};if(d||(r.action="Action is required"),d==="approve"&&s&&(u||(r.approved_start_date="Start date is required"),p||(r.approved_end_date="End date is required")),f.trim()||(r.response="Response is required"),Object.keys(r).length>0){N(r);return}F({action:d||"",...s&&{approved_start_date:w(u)||"",approved_end_date:w(p)||""},response:f.trim()})},w=t=>{if(!t)return"";const r=t.getFullYear(),D=String(t.getMonth()+1).padStart(2,"0"),E=String(t.getDate()).padStart(2,"0");return`${r}-${D}-${E}`};return e(h,{appear:!0,show:i,as:n.Fragment,children:l(b,{as:"div",open:i,onClose:v,className:"relative z-50",children:[e(h.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(h.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:l(b.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e(b.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:j}),a&&a[x]&&e("div",{className:"mt-2 text-sm text-gray-500",children:a[x]}),l("div",{className:"mt-6 space-y-5",children:[l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),e(T,{options:g,value:g.find(t=>t.value===d),onChange:A,placeholder:"Select action...",className:"react-select-container",classNamePrefix:"react-select",isSearchable:!1}),o.action&&e("span",{className:"text-red-500 text-sm",children:o.action})]}),d==="approve"&&s&&l("div",{className:"space-y-4",children:[l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e(S,{options:{dateFormat:"Y-m-d"},value:u||"",className:"form-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Select start date",onChange:t=>{m(t[0])}}),o.approved_start_date&&e("span",{className:"text-red-500 text-sm",children:o.approved_start_date})]}),l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e(S,{options:{dateFormat:"Y-m-d"},value:p||"",onChange:t=>{c(t[0])},className:"form-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Select end date"}),o.approved_end_date&&e("span",{className:"text-red-500 text-sm",children:o.approved_end_date})]})]}),l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response"}),e("textarea",{className:"form-input w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:f,onChange:t=>_(t.target.value),rows:3}),o.response&&e("span",{className:"text-red-500 text-sm",children:o.response})]})]}),l("div",{className:"mt-8 flex justify-end space-x-3",children:[e("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:v,children:"Cancel"}),e("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:C,children:"Submit"})]})]})})})})]})})};export{R as A};
