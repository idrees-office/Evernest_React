import{W as S,u as y,r as s,s as k,X as P,a as t,j as e,L as w}from"./index-482eacc5.js";import{T}from"./Table-3b0eb7a2.js";import{I as _}from"./IconTrendingUp-76bb8ae3.js";import"./index-615bd7e7.js";import"./floating-ui.dom.browser.min-b8726d47.js";import"./extends-4c19d496.js";const A={reportApi:`${S()}/subscriber/tracking-report`},U=()=>{const c=y(),o=s.useRef({fetched:!1}),[m,h]=s.useState([]),[g,p]=s.useState(0),[r,u]=s.useState(1),[d,f]=s.useState(10),[i,b]=s.useState({columnAccessor:"id",direction:"desc"}),[x,n]=s.useState(!1),[l,v]=s.useState({subscriber:0,totalCampaigns:0,totalEmails:0,totalSendCampaigns:0,PendingCampaign:0});s.useEffect(()=>{c(k("Create User")),N(),o.current.fetched=!0},[c,r,d,i]);const N=async()=>{n(!0);try{const a=await P.get(A.reportApi,{params:{page:r,per_page:d,sort_field:i.columnAccessor,sort_direction:i.direction}});h(a.data.reports),v({subscriber:a.data.subscriber,totalCampaigns:a.data.totalCampaigns,totalEmails:a.data.totalEmails,totalSendCampaigns:a.data.totalSendCampaigns,PendingCampaign:a.data.PendingCampaign}),p(a.data.totalCampaigns)}catch(a){console.error("Error fetching data:",a)}finally{n(!1)}},C=[{accessor:"id",title:"Total",sortable:!0,key:"id"},{accessor:"name",title:"Campaign Name",sortable:!0,key:"name",render:a=>e("div",{className:"text-black dark:text-white",children:e("span",{className:"whitespace-nowrap",children:a.name})})},{accessor:"total",title:"Total",sortable:!0,key:"total"},{accessor:"sent",title:"Sent",sortable:!0,key:"send"},{accessor:"read",title:"Read",sortable:!0,key:"read"},{accessor:"status",title:"Status",key:"status",render:a=>e("span",{className:"badge bg-success",children:a.status})},{accessor:"created_at",title:"Created At | Send-Time",key:"created_at",render:a=>a.created_at?a.created_at:e("span",{className:"badge bg-dark",children:"Already Scheduled"})},{accessor:"scheduled_at",title:"Scheduled At",key:"scheduled_at",render:a=>a.scheduled_at?a.scheduled_at:e("span",{className:"badge bg-dark",children:"Already sent"})}];return t("div",{children:[t("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[e("li",{children:e(w,{to:"/",className:"text-primary hover:underline",children:" Dashboard "})}),e("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:e("span",{children:"Analytics"})})]}),e("div",{className:"pt-5",children:t("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-3",children:[t("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Campaign Summary"})}),t("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[t("div",{children:[e("div",{children:"Total Emails"}),e("div",{className:"text-[#f8538d] text-md",children:l.totalEmails})]}),t("div",{children:[e("div",{children:"Total Campaigns"}),e("div",{className:"text-[#f8538d] text-md",children:l.totalCampaigns})]})]})]}),t("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Campaign Performance"})}),t("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[t("div",{children:[e("div",{children:"Pending Campaigns"}),e("div",{className:"text-[#f8538d] text-sm",children:l.PendingCampaign})]}),t("div",{children:[e("div",{children:"Send Campaigns"}),e("div",{className:"text-[#f8538d] text-sm",children:l.totalSendCampaigns})]})]})]}),t("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Email Performance"})}),t("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[t("div",{children:[e("div",{children:"Open Rate"}),t("div",{className:"text-[#f8538d] text-sm",children:[0,"%"]})]}),t("div",{children:[e("div",{children:"Hot Leads"}),e("div",{className:"text-[#f8538d] text-sm",children:0})]})]})]}),t("div",{className:"panel h-full",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Current | Total Subscribers"})}),t("div",{className:" text-[#e95f2b] text-3xl font-bold my-10",children:[e("span",{children:l.subscriber}),e(_,{className:"text-success inline ml-2"})]})]})]})}),e("div",{className:"pt-2",children:e("div",{className:"h-full w-full",children:e(T,{columns:C,rows:m,title:"",totalRecords:g,currentPage:r,recordsPerPage:d,onPageChange:u,onRecordsPerPageChange:f,onSortChange:b,sortStatus:i,isLoading:x,noRecordsText:"No campaign data available",idAccessor:"id"})})})]})};export{U as default};
