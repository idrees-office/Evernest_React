import{f as b,c as y,u as w,T as S,r as n,s as h,q as D,j as e,a,L as C,v as _}from"./index-f0d07956.js";import{l as E}from"./quill.snow-39622aa0.js";import{S as j}from"./react-select.esm-4fb8fdc2.js";import{o as v}from"./status-f6e714a9.js";import"./objectWithoutPropertiesLoose-f3b3ace0.js";import"./extends-4c19d496.js";import"./floating-ui.dom.browser.min-b8726d47.js";import"./IconSquareCheck-c24ac642.js";import"./IconStar-782c27ee.js";import"./IconTrash-b201cf6f.js";const G=()=>{const{id:r}=b(),p=!!r;y();const m=w(),N=S(),i=n.useRef(null),[f,u]=n.useState(""),[x,d]=n.useState(null),[t,g]=n.useState({});return n.useEffect(()=>{m(h("Developers"))}),n.useEffect(()=>{var l;p==!0?m(D(Number(r))).unwrap().then(s=>{if(i.current){const c=i.current;c.querySelector('input[name="name"]').value=s.name||"",c.seo_title.value=s.seo_title||"",c.slug.value=s.slug||"",c.communities.value=s.communities||"",c.seo_description.value=s.seo_description||"",u(s.description||""),d(s.status||"")}}).catch(s=>{}):((l=i.current)==null||l.reset(),u(""),d(null)),m(h("Create Blogs"))},[m,p,r]),e("div",{children:e("div",{className:"flex flex-col xl:flex-row",children:a("div",{className:"panel flex-1 px-2 py-2",children:[a("div",{className:"flex justify-between items-center",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Create Developers"}),e(C,{className:"btn btn-secondary btn-sm mt-2 cursor-pointer",to:"/pages/developers/list",children:"Back"})]}),a("form",{ref:i,onSubmit:async l=>{var s;if(l.preventDefault(),i.current){const c=new FormData(i.current);try{const o=await m(_({formData:c,id:Number(r)}));o.payload.status==="success"?(N.success("Developer Create Successfully"),(s=i.current)==null||s.reset()):g(o.payload)}catch(o){console.error("Error creating/updating news:",o)}}},encType:"multipart/form-data",children:[e("hr",{className:"my-6 border-[#e0e6ed] dark:border-[#1b2e4b]"}),e("div",{className:"mt-8 px-4",children:a("div",{className:"flex flex-col justify-between lg:flex-row",children:[a("div",{className:"mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6",children:[a("div",{className:"mt-4 items-center",children:[e("input",{autoComplete:"off",type:"text",name:"name",className:"form-input flex-1",placeholder:"Name"}),(t==null?void 0:t.name)&&e("p",{className:"text-danger",children:t.name[0]})]}),a("div",{className:"mt-4",children:[e("input",{autoComplete:"off",type:"text",className:"form-input flex-1",name:"seo_title",placeholder:"SEO Title"}),(t==null?void 0:t.seo_title)&&e("p",{className:"text-danger",children:t.seo_title[0]})]}),a("div",{className:"mt-4",children:[e("input",{autoComplete:"off",type:"text",className:"form-input flex-1",name:"communities",placeholder:"Communities"}),(t==null?void 0:t.communities)&&e("p",{className:"text-danger",children:t.communities[0]})]}),e("div",{className:"mt-4 items-center",children:e("input",{type:"file",className:"form-input w-full",name:"developer_logo"})})]}),a("div",{className:"w-full lg:w-1/2",children:[a("div",{className:"mt-4",children:[e("input",{autoComplete:"off",type:"text",className:"form-input flex-1",name:"slug",placeholder:"Slug"}),(t==null?void 0:t.slug)&&e("p",{className:"text-danger",children:t.slug[0]})]}),e("div",{className:"mt-4",children:e("input",{autoComplete:"off",type:"text",className:"form-input flex-1",name:"seo_description",placeholder:"SEO Description"})}),a("div",{className:"mt-4",children:[e(j,{name:"status",className:"custom-multiselect flex-1",placeholder:"Status",options:v,value:v.find(l=>l.value==x),onChange:l=>{d(l.value)}}),(t==null?void 0:t.status)&&e("p",{className:"text-danger",children:t.status[0]})]}),a("div",{className:"mt-4",children:[e(E,{value:f,onChange:l=>u(l),className:"w-full",placeholder:"Developer Description"}),e("input",{type:"hidden",name:"description",value:f,id:"description"}),(t==null?void 0:t.description)&&e("p",{className:"text-danger",children:t.description[0]})]}),e("div",{className:"mt-4",children:e("button",{className:"btn btn-secondary w-full",children:"Save"})})]})]})})]})]})})})};export{G as default};
