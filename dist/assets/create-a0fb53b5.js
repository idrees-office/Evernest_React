import{f as S,u as k,c as F,T as C,r as i,s as h,n as D,j as e,a,C as j}from"./index-a711fb48.js";import{l as E}from"./quill.snow-9c226424.js";import{o as N}from"./status-85fc352f.js";import{S as T}from"./react-select.esm-538a4628.js";import{F as q}from"./index-1bc45d78.js";/* empty css                  */import"./IconSquareCheck-38334585.js";import"./IconStar-b41ffc7a.js";import"./IconTrash-eaa3aec0.js";import"./objectWithoutPropertiesLoose-f3b3ace0.js";import"./extends-4c19d496.js";import"./floating-ui.dom.browser.min-b8726d47.js";const M=()=>{const{id:m}=S(),u=!!m,c=k(),g=F(),x=C(),n=i.useRef(null),[p,o]=i.useState(""),[b,d]=i.useState(null),[v,f]=i.useState(null),[s,w]=i.useState({});return i.useEffect(()=>{c(h("Create News"))}),i.useEffect(()=>{var t;u==!0?c(D(Number(m))).unwrap().then(l=>{if(n.current){const r=n.current;if(r.querySelector('input[name="title"]').value=l.title||"",r.slug.value=l.slug||"",l.date){const y=new Date(l.date);f(y)}o(l.description||""),d(l.status||"")}}).catch(l=>{}):((t=n.current)==null||t.reset(),o(""),d(null)),c(h("Create Blogs"))},[c,u,m]),e("div",{children:e("div",{className:"flex flex-col xl:flex-row",children:a("div",{className:"panel flex-1 px-2 py-2",children:[a("div",{className:"flex justify-between items-center",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light"}),e("a",{onClick:()=>g("/pages/news/list"),className:"btn btn-secondary btn-sm mt-2 cursor-pointer",children:"Back"})]}),a("form",{encType:"multipart/form-data",ref:n,onSubmit:async t=>{if(t.preventDefault(),n.current){const l=new FormData(n.current);try{const r=await c(j({formData:l,id:Number(m)}));r.meta.requestStatus==="rejected"&&r.payload?w(r.payload):x.success("Save Successfully")}catch(r){console.error("Error creating/updating news:",r)}}},children:[e("hr",{className:"my-6 border-[#e0e6ed] dark:border-[#1b2e4b]"}),e("div",{className:"mt-8 px-4",children:e("div",{className:"flex flex-col justify-between lg:flex-row",children:a("div",{className:"mb-6 w-full lg:w-1/2 ltr:lg:mr-6 rtl:lg:ml-6",children:[a("div",{className:"mt-4 items-center",children:[e("label",{htmlFor:"titlemark",className:"text-white-dark",children:" Title "}),e("input",{id:"titlemark",autoComplete:"off",type:"text",className:"form-input flex-1",placeholder:"Title",name:"title"}),s.title&&e("p",{className:"text-danger",children:s.title[0]})]}),a("div",{className:"mt-4",children:[e("label",{htmlFor:"slugmark",className:"text-white-dark",children:" Slug"}),e("input",{id:"slugmark",autoComplete:"off",type:"text",className:"form-input flex-1",placeholder:"Slug",name:"slug"}),s.slug&&e("p",{className:"text-danger",children:s.slug[0]})]}),a("div",{className:"mt-4",children:[e("label",{htmlFor:"slugmark",className:"text-white-dark",children:" Date"}),e(q,{value:v,name:"date",options:{dateFormat:"d/m/Y"},className:"form-input",onChange:t=>f(t)}),s.date&&e("p",{className:"text-danger",children:s.date[0]})]}),a("div",{className:"mt-4 items-center",children:[e("label",{htmlFor:"description",className:"text-white-dark",children:"  Description "}),e(E,{theme:"snow",value:p,onChange:t=>o(t),placeholder:"Description"}),e("input",{type:"hidden",name:"description",value:p,id:"description"}),s.description&&e("p",{className:"text-danger",children:s.description[0]})]}),a("div",{className:"mt-4 items-center",children:[e("label",{htmlFor:"ctnFile",className:"text-white-dark",children:" Image "}),e("input",{id:"ctnFile",type:"file",className:"form-input file:py-2 file:px-4 file:border-0 file:font-semibold p-0 file:bg-secondary/90 ltr:file:mr-5 rtl:file:ml-5 file:text-white file:hover:bg-primary",name:"news_image"})]}),a("div",{className:"mt-4",children:[e("label",{htmlFor:"ctnstatus",className:"text-white-dark",children:" Status "}),e(T,{name:"status",placeholder:"Select an option",options:N,value:N.find(t=>t.value==b),onChange:t=>{d(t.value)}})]}),e("div",{className:"mt-4",children:e("button",{className:"btn btn-secondary w-full",children:"Save"})})]})})})]})]})})})};export{M as default};
