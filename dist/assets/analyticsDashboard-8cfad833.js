import{W as S,u as y,r as s,s as k,X as P,a,j as e,L as w}from"./index-a79c8e64.js";import{T}from"./Table-f283db03.js";import{I as R,b as E,a as A}from"./IconClock-91406933.js";import"./index-647643f9.js";import"./floating-ui.dom.browser.min-b8726d47.js";import"./extends-4c19d496.js";const j={reportApi:`${S()}/subscriber/tracking-report`},B=()=>{const n=y(),o=s.useRef({fetched:!1}),[m,h]=s.useState([]),[p,g]=s.useState(0),[c,u]=s.useState(1),[r,f]=s.useState(10),[l,b]=s.useState({columnAccessor:"id",direction:"desc"}),[x,d]=s.useState(!1),[i,v]=s.useState({subscriber:0,totalCampaigns:0,totalEmails:0,totalSendCampaigns:0,PendingCampaign:0,openRate:0});s.useEffect(()=>{n(k("Create User")),N(),o.current.fetched=!0},[n,c,r,l]);const N=async()=>{d(!0);try{const t=await P.get(j.reportApi,{params:{page:c,per_page:r,sort_field:l.columnAccessor,sort_direction:l.direction}});h(t.data.reports),v({subscriber:t.data.subscriber,totalCampaigns:t.data.totalCampaigns,totalEmails:t.data.totalEmails,totalSendCampaigns:t.data.totalSendCampaigns,PendingCampaign:t.data.PendingCampaign,openRate:t.data.openRate}),g(t.data.totalCampaigns)}catch(t){console.error("Error fetching data:",t)}finally{d(!1)}},C=[{accessor:"id",title:"Total",sortable:!0,key:"id"},{accessor:"name",title:"Campaign Name",sortable:!0,key:"name",render:t=>e("div",{className:"text-black dark:text-white",children:e("span",{className:"whitespace-nowrap",children:t.name})})},{accessor:"type",title:"Type",key:"type",render:t=>t.type==1?e("span",{className:"badge bg-success",children:"Immidiate"}):e("span",{className:"badge bg-warning",children:"Scheduled"})},{accessor:"total",title:"Total",sortable:!0,key:"total"},{accessor:"sent",title:"Sent",sortable:!0,key:"send"},{accessor:"read",title:"Read",sortable:!0,key:"read"},{accessor:"scheduled_at",title:"Scheduled At | Send-Time",key:"scheduled_at"},{accessor:"created_at",title:"Created At",key:"created_at"},{accessor:"status",title:"Status",key:"status",render:t=>t.status==1?e(E,{className:"text-success"}):e(A,{className:"text-info"})}];return a("div",{children:[a("ul",{className:"flex space-x-2 rtl:space-x-reverse",children:[e("li",{children:e(w,{to:"/",className:"text-primary hover:underline",children:" Dashboard "})}),e("li",{className:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2",children:e("span",{children:"Analytics"})})]}),e("div",{className:"pt-5",children:a("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-3",children:[a("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Campaign Summary"})}),a("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[a("div",{children:[e("div",{children:"Total Emails"}),e("div",{className:"text-[#f8538d] text-md",children:i.totalEmails})]}),a("div",{children:[e("div",{children:"Total Campaigns"}),e("div",{className:"text-[#f8538d] text-md",children:i.totalCampaigns})]})]})]}),a("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Campaign Performance"})}),a("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[a("div",{children:[e("div",{children:"Pending Campaigns"}),e("div",{className:"text-[#f8538d] text-sm",children:i.PendingCampaign})]}),a("div",{children:[e("div",{children:"Send Campaigns"}),e("div",{className:"text-[#f8538d] text-sm",children:i.totalSendCampaigns})]})]})]}),a("div",{className:"panel h-full sm:col-span-2 lg:col-span-1",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Email Performance"})}),a("div",{className:"grid sm:grid-cols-2 gap-8 text-sm text-[#515365] font-bold",children:[a("div",{children:[e("div",{children:"Open Rate"}),a("div",{className:"text-[#f8538d] text-sm",children:[i.openRate,"%"]})]}),a("div",{children:[e("div",{children:"Hot Leads"}),e("div",{className:"text-[#f8538d] text-sm",children:0})]})]})]}),a("div",{className:"panel h-full",children:[e("div",{className:"flex justify-between dark:text-white-light mb-5",children:e("h5",{className:"font-semibold text-lg",children:"Current | Total Subscribers"})}),a("div",{className:" text-[#e95f2b] text-3xl font-bold my-10",children:[e("span",{children:i.subscriber}),e(R,{className:"text-success inline ml-2"})]})]})]})}),e("div",{className:"pt-2",children:e("div",{className:"h-full w-full",children:e(T,{columns:C,rows:m,title:"",totalRecords:p,currentPage:c,recordsPerPage:r,onPageChange:u,onRecordsPerPageChange:f,onSortChange:b,sortStatus:l,isLoading:x,noRecordsText:"No campaign data available",idAccessor:"id"})})})]})};export{B as default};
