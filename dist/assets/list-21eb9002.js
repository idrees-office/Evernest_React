import{u as C,c as S,T,r,s as F,z as D,A as E,b as j,a,j as t,B,S as y,E as L,G as P}from"./index-aeda3143.js";import{I as z}from"./IconBell-9f429723.js";import{D as M,L as R}from"./loader-e22b64cd.js";import{I as Y}from"./IconPencil-70ae2108.js";import{I as G}from"./IconTrash-d0c82b26.js";import{I as U}from"./IconPlus-37050605.js";/* empty css              */import{Y as u,y as v}from"./transition-6ce0d2f8.js";import"./lodash-67d5db15.js";import"./index-c24473f0.js";import"./floating-ui.dom.browser.min-b8726d47.js";import"./extends-4c19d496.js";const ee=()=>{const l=C();S();const p=T(),g=R(),[h,o]=r.useState(!1),s=r.useRef(null),[d,N]=r.useState({}),[m,x]=r.useState();r.useState({}),r.useEffect(()=>{l(F("Amenities List")),l(D())},[l]),r.useEffect(()=>{m!==void 0&&l(E(m)).unwrap().then(e=>{var n;if(s.current){s.current.reset();const c=(n=s.current)==null?void 0:n.elements.namedItem("name");c&&(c.value=e.name||"")}}).catch(e=>{console.error("Failed to fetch amenity details:",e)})},[m,l]);const{loading:w,amenities:f}=j(e=>e.amenitiesdata),A=(Array.isArray(f)?f:[]).map((e,n)=>({counter:n+1,title:(e==null?void 0:e.name)||"Unknown",id:e==null?void 0:e.id})),b=e=>{e?(x(e),o(!0)):(o(!0),s.current&&s.current.reset())};r.useEffect(()=>{});const k=e=>{const n=e;y.fire({html:"Are you sure you want to delete this project?",showCancelButton:!0,confirmButtonText:"Delete"}).then(c=>{c.isConfirmed&&l(L(n)).unwrap().then(i=>{p.success("Delete Successfully")}).catch(i=>{y.fire("Error!","Failed to delete the blog.","error")})})},I=async e=>{var n;if(e.preventDefault(),s.current){const c=new FormData(s.current);try{const i=await l(P({formData:c,id:Number(m)}));i.payload.status==201||i.payload.status==200?(p.success("Amentites Create Successfully"),(n=s.current)==null||n.reset(),o(!1)):N(i.payload)}catch(i){console.error("Error creating/updating news:",i)}}};return a("div",{children:[a("div",{className:"panel flex items-center overflow-x-auto whitespace-nowrap p-3 text-primary relative",children:[a("div",{className:"rounded-full bg-primary p-1.5 text-white ring-2 ring-primary/30 ltr:mr-3 rtl:ml-3",children:[" ",t(z,{})," "]}),t("span",{className:"ltr:mr-3 rtl:ml-3",children:"Amenities: "})," ",a("button",{onClick:()=>{b()},className:"btn btn-primary btn-sm",children:[" ",t(U,{}),"Amenities"]})]}),t("div",{className:"datatables",children:w?g:t(M,{title:"Blog List",columns:[{accessor:"counter",title:"#",sortable:!0},{accessor:"title",title:"Title",sortable:!0},{accessor:"actions",title:"Actions",render:e=>a("div",{className:"flex items-center space-x-2",children:[a("button",{type:"button",onClick:()=>b(e.id),className:"btn btn-warning w-6 h-6 p-0 rounded-full",children:[" ",t(Y,{className:"w-3 h-3 shrink-0"})]}),a("button",{type:"button",onClick:()=>k(e.id),className:"btn btn-danger w-6 h-6 p-0 rounded-full",children:[" ",t(G,{className:"w-3 h-3 shrink-0"})]})]})}],rows:A})}),t(u,{appear:!0,show:h,as:r.Fragment,children:a(v,{as:"div",open:h,onClose:()=>o(!1),className:"relative z-[51]",children:[t(u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t("div",{className:"fixed inset-0 bg-[black]/60"})}),t("div",{className:"fixed inset-0 z-[999] px-4 overflow-y-auto",children:t("div",{className:"flex items-center justify-center min-h-screen",children:t(u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a(v.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark",children:[a("button",{type:"button",onClick:()=>o(!1),className:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",children:[" ",t(B,{})]}),t("div",{className:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]",children:"   Add Amenitie"}),t("div",{className:"p-5",children:a("form",{ref:s,onSubmit:I,encType:"multipart/form-data",children:[t("div",{className:"grid gap-5",children:a("div",{children:[t("label",{htmlFor:"title",children:"Amenitie Name"}),t("input",{id:"name",name:"name",type:"text",className:"form-input mt-1",placeholder:"Amenitie Name"}),(d==null?void 0:d.name)&&t("p",{className:"text-danger error",children:d.name[0]})]})}),a("div",{className:"flex justify-end items-center mt-8",children:[t("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>o(!1),children:"Cancel"}),t("button",{type:"submit",className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"  Add"})]})]})})]})})})})]})})]})};export{ee as default};
